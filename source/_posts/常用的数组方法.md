---
title: 常用的数组方法
date: 2022-11-19 00:00:00
categories: JavaScript
description: js数组常用方法
cover: "https://csheng-fly.oss-cn-guangzhou.aliyuncs.com/%E5%B8%B8%E8%A7%81%E7%9A%84%E6%95%B0%E7%BB%84%E6%96%B9%E6%B3%95.png"
---

## join()
数组转字符串
```js
let arr = [1, 2, 3, 4];
console.log(arr.join()); // 1,2,3,4
console.log(arr.join(':')); // 1:2:3:4
console.log(arr); // [1,2,3,4],原数组不变
```

## push() & pop() & unshift() & shift()
```js
// push(): 往数组尾添加元素
// pop(): 删除数组最后一个元素
// unshift(): 往数组首添加元素
// shift(): 删除数组第一个元素
let arr = [1, 2, 3, 4];
arr.push(5); // [ 1, 2, 3, 4, 5 ]
arr.pop(); // [ 1, 2, 3 ]
arr.unshift(0); // [ 0, 1, 2, 3, 4 ]
arr.shift(); // [ 2, 3, 4 ]
```

## sort()
排序
```js
console.log(arr.sort()); // 原数组改变，这里是按照字符编码的顺序进行排序，❌
console.log(arr.sort((a, b) => a - b)); // 必须使用一个排序函数：
```

## reverse()
反转数组
```js
console.log(arr.reverse()); // 原数组改变
```

## concat()
连接两个或多个数组
```js
let arr1 = [1, 2, 3, 4];
let arr2 = [11, 12, 13];
let newArr = arr1.concat(arr2);
console.log(arr1.concat()); // [1, 2, 3, 4] (复制数组)
console.log(newArr); // [1, 2, 3, 4, 11, 12, 13]
console.log(arr1); // [1, 2, 3, 4] (原数组未改变)
```

## slice() & splice()
```js
// 【slice()】（数组截取,原数组未改变）：arr.slice(start , end);
let arrCopy = arr.slice(1);
let arrCopy2 = arr.slice(0, 4);
// 【splice()】（数组更新,改变原始数组）
let arr = ['张三', '李四', '王五', '小明', '小红'];
// 删除
arr.splice(2);
// 添加
arr.splice(1, 0, '小刚');
arr.splice(3, 0, '刘一', '陈二', '赵六');
// 替换
arr.splice(1, 1, '王五'); // 替换一个
arr.splice(1, 4, '李四'); // 替换四个
```

## ES5新增
### indexOf() & lastIndexOf() 
- arr.indexOf(item,start) : 从数组的开头（位置 0）开始向后查找
- arr.lastIndexOf(item,start) : 从数组的末尾开始向前查找
- （这里的item指的是`查找的元素`，start指的是`在数组中开始检索的位置`）

```js
let arr = [1, 4, 7, 10, 7, 18, 7, 26];
console.log(arr.indexOf(7)); // 2
console.log(arr.lastIndexOf(7)); // 6
console.log(arr.indexOf(7, 4)); // 4
console.log(arr.lastIndexOf(7, 2)); // 2
console.log(arr.indexOf(5)); // -1（找不到）
```

### forEach() & map() & filter() & some() & every()
**这几个方法语法都一样，都不会改变原数组**
- forEach()：对数组进行遍历循环，这个方法没有返回值。

```js
let arr = [1, 4, 7, 10];
arr.forEach(function (value, index) {
	console.log(value, index);
});
```
- map()：指“映射”，方法返回一个新数组，数组中的元素为原始数组元素调用函数处理后的值。

```js
let arr = [1, 4, 8, 10];
let newArr = arr.map((item) => item * 2);
console.log(newArr); // [ 2, 8, 16, 20 ]
```

- filter()： “过滤”功能，方法创建一个新数组, 其包含通过所提供函数实现的测试的所有元素。

```js
let arr = [1, 4, 6, 8, 10];
let newArr = arr.filter(function (item) {
	return item > 5;
});
console.log(newArr); // [6, 8, 10]
```

- every()：判断数组中每一项都是否满足条件，只有所有项都满足条件，才会返回true。

```js
let arr = [1, 4, 6, 8, 10];
let newArr = arr.every(function (item) {
	return item < 12;
});
console.log(newArr); // true
```

- some()：判断数组中是否存在满足条件的项，只要有一项满足条件，就会返回true。

```js
let arr = [1, 4, 6, 8, 10];
let newArr = arr.every(function (item) {
	return item > 1;
});
console.log(newArr); // true
```

### reduce() & reduceRight()
这两个方法都会迭代数组中的所有项，然后生成一个最终返回值。
- reduce()方法从数组的第一项开始，逐个遍历到最后。
- reduceRight()从数组的最后一项开始，向前遍历到第一项。

```js
// 【常用于数组求和】
let arr = [1, 2, 3, 4, 5];
let sum1 = arr.reduce((total, currentIndex) => total + currentIndex); // 初始值为0，sum=15
let sum2 = arr.reduce((total, currentIndex) => total + currentIndex, 1); // 初始值为1，sum=16
```

## ES6新增
### Array.from() & Array.of()
- Array.from()方法是用于类似数组的对象（即有length属性的对象）和可遍历对象转为真正的数组。

```js
let json = {
	0: '陈',
	1: '升',
	length: 2,
};
let arr = Array.from(json);
console.log(arr); // ["陈", "升"]
```

- Array.of()方法是将一组值转变为数组，参数不分类型，只分数量，数量为0返回空数组。

```js
let arr1 = Array.of(1, 2, 3);
let arr2 = Array.of([1, 2, 3]);
let arr3 = Array.of(undefined);
let arr4 = Array.of();
console.log(arr1); // [1, 2, 3]
console.log(arr2); // [[1, 2, 3]]
console.log(arr3); // [undefined]
console.log(arr4); // []
```

### find() & findIndex()
- find()：返回通过测试（函数内判断）的数组的第一个元素的值。如果没有符合条件的元素返回 undefined。

```js
// find()实现根据id取出数组中的对象
let Arr = [
	{ id: 1, name: '张三' },
	{ id: 2, name: '李四' },
];
let obj = Arr.find((item, index) => item.id === 1);
console.log(obj.name); // 张三
```

- findIndex()：findIndex和find差不多，不过默认返回的是索引，如果没有符合条件的元素返回 -1

```js
let Arr = [1, 2, 5, 7, 5, 9];
let index = Arr.findIndex((currentValue) => currentValue > 5);
console.log(index); // 3
```